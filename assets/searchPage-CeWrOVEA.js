import{u as A,r as d,a as P,c as g,b as n,d as p,_ as $,e as k,f as _,F as C,g as j,h as D,i as E,o as l,j as N}from"./index-CS2euBsE.js";import{_ as B}from"./cargoCard-CvqaKvgB.js";import{_ as O,p as L,a as F}from"./priceSortAsk-rFoHNpub.js";import{a as V,b as W}from"./alfabetSortDesc-DF9vPWVs.js";const H={class:"w-full max-w-[1630px] mx-auto"},I={class:"w-full h-full mb-[100px] bg-white pt-[37px] px-[118px] mb-"},R={class:"flex w-full h-[46px] mb-8 justify-between"},q={key:0,class:"grid grid-cols-4 gap-x-5 gap-y-5"},Q={__name:"searchPage",setup(z){const s=A(),u=d(P().params);let r=d([]);v();function h(t,e){return t.toLowerCase().startsWith(e.toLowerCase())}function b(t,e){if(e){if(h(t.name,e))return t}else return t;return!1}function v(){let t=s.with_description,e=[],a=u.value.category;a!="Категории"?Object.keys(s.categories[a].sub).forEach(o=>{Object.keys(s.categories[a].sub[o].cargo).forEach(c=>{let f=s.categories[a].sub[o].cargo[c],i=b(f,u.value.searchName);i&&e.push(i)})}):t.forEach(o=>{s.categories[o]&&Object.keys(s.categories[o].sub).forEach(c=>{Object.keys(s.categories[o].sub[c].cargo).forEach(f=>{let i=s.categories[o].sub[c].cargo[f],m=b(i,u.value.searchName);m&&e.push(m)})})}),r.value=e}function S(){r.value=W(r.value,"name")}function x(){r.value=V(r.value,"name")}function y(){r.value=L(r.value)}function w(){r.value=F(r.value)}return(t,e)=>(l(),g("div",H,[n($,{mainPage:!1}),p("div",I,[p("div",R,[e[4]||(e[4]=p("p",{class:"H2 text-gray-800"},"Результаты поиска",-1)),n(O,{onAlfabetSortAsc:e[0]||(e[0]=a=>S()),onAlfabetSortDesc:e[1]||(e[1]=a=>x()),onPriceSortAsc:e[2]||(e[2]=a=>w()),onPriceSortDesc:e[3]||(e[3]=a=>y())})]),_(r)?(l(),g("div",q,[(l(!0),g(C,null,j(_(r),a=>(l(),N(B,{key:a.article,href:"/cargo/"+a.type+"/"+a.sub_type+"/"+a.article,description:a.description,price:a.price+" ₽","cargo-name":a.name,article:a.article,brand:a.brand,image:a.image+"/1.webp"},null,8,["href","description","price","cargo-name","article","brand","image"]))),128))])):k("",!0)]),n(D),n(E)]))}};export{Q as default};
